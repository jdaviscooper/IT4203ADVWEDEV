<!DOCTYPE html>
<html lang="en">
<head>
<title>Home Book Search</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
<style>
* {
    box-sizing: border-box;
}

body {
    font-family: Arial, Helvetica, sans-serif;
}

header {
    background-color: #666;
    padding: 30px;
    text-align: center;
    font-size: 35px;
    color: white;
}

nav {
    float: left;
    width: 30%;
    height: 300px; 
    background: #ccc;
    padding: 20px;
}

nav ul {
    list-style-type: none;
    padding: 0;
}

article {
    float: left;
    padding: 20px;
    width: 70%;
    background-color: #f1f1f1;
    height: 300px; 
}


section:after {
    content: "";
    display: table;
    clear: both;
}


footer {
    background-color: #777;
    padding: 10px;
    text-align: center;
    color: white;
}

 (max-width: 600px) {
    nav, article {
        width: 100%;
        height: auto;
    }
}
</style>
</head>
<body>

<header>
  <h2>Home</h2>
</header>

<section>
  <nav>
    <ul>
	         <li><a href="mybookshelf.html">My Bookshelf</a></li>
      </ul>
  </nav>
  
  <article>
    <center><<h1>Book Search</h1>
    <p> <form action= "https://www.googleapis.com/books/v1/volumes?q=" method="get">
			
		</form>
               input id="search">
			<button>Search</button>
     
		<h1 id="title"></h1>
		<h2>Total results: <span id="total"></span>
		</h2>

		<div id="results" style="display: flex; flex-wrap: wrap;"></div>
	</div>

</center>
<script>$(document).ready(function(){
$("ul").hide();
});
  $("button").click(function(){
    $("ul").show();
    $(function(){
		var term = document.getElementById('search').value; 
		var parameter="?q="+term+"&startIndex=0&maxResults=20"; 
		var service_point="https://www.googleapis.com/books/v1/volumes/"+parameter;
        $.getJSON(service_point, function (json)
        {
			console.log(json);
			var total=json.totalItems;
			$("#total").text(total); 
			
			var resultHTML="";
			for (i in json.items)
			{
				var booktitle=json.items[i].volumeInfo.title;
				var bookid=json.items[i].id;
				var cover="";
				if (json.items[i].volumeInfo.imageLinks != null)
					cover=json.items[i].volumeInfo.imageLinks.smallThumbnail;

				resultHTML+="<div class='bookdiv'>";
				resultHTML+="<img src='"+cover+"' style='float: left' />";
				resultHTML+="<a href='bookinfo.html?id="+bookid+"'>"+booktitle+"</a>";
				resultHTML+="</div>";
			}
			$("#results").html(resultHTML); 
			$(".bookdiv").css("width", "300px");
		});
    });
  });



          
</script>
</html></p>
  </article>
</section>

<footer>
  <p><a href="milestone2.html">Previous Page</a></p>
</footer>

</body>
</html>
